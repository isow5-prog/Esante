# Generated by Django 4.2.7 on 2025-11-29 10:32

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('mothers', '0003_healthrecord'),
    ]

    operations = [
        migrations.CreateModel(
            name='Pregnancy',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('numero', models.PositiveIntegerField(help_text='1ère grossesse = 1, 2ème = 2, etc.', verbose_name='Numéro de grossesse')),
                ('status', models.CharField(choices=[('en_cours', 'En cours'), ('termine', 'Terminé'), ('interrompu', 'Interrompu')], default='en_cours', max_length=20)),
                ('date_derniere_regles', models.DateField(blank=True, null=True, verbose_name='Date des dernières règles')),
                ('date_accouchement_prevue', models.DateField(blank=True, null=True, verbose_name="Date prévue d'accouchement")),
                ('date_accouchement_reel', models.DateField(blank=True, null=True, verbose_name="Date réelle d'accouchement")),
                ('mode_accouchement', models.CharField(blank=True, help_text='Voie basse, Césarienne, etc.', max_length=50, verbose_name="Mode d'accouchement")),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_pregnancies', to=settings.AUTH_USER_MODEL)),
                ('lieu_accouchement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='accouchements', to='mothers.healthcenter', verbose_name="Lieu d'accouchement")),
                ('mother', models.ForeignKey(help_text='Mère associée à cette grossesse', on_delete=django.db.models.deletion.CASCADE, related_name='pregnancies', to='mothers.mother')),
            ],
            options={
                'verbose_name': 'Grossesse',
                'verbose_name_plural': 'Grossesses',
                'ordering': ('-numero',),
                'unique_together': {('mother', 'numero')},
            },
        ),
        migrations.CreateModel(
            name='Vaccination',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nom', models.CharField(max_length=100, verbose_name='Nom du vaccin')),
                ('description', models.CharField(blank=True, max_length=255, verbose_name='Description')),
                ('date', models.DateField(verbose_name='Date de vaccination')),
                ('semaine', models.PositiveIntegerField(blank=True, null=True, verbose_name='Semaine de grossesse')),
                ('numero_lot', models.CharField(blank=True, max_length=50, verbose_name='Numéro de lot')),
                ('is_completed', models.BooleanField(default=False, verbose_name='Effectuée')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('lieu', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='vaccinations', to='mothers.healthcenter')),
                ('medecin', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='vaccinations_effectuees', to=settings.AUTH_USER_MODEL)),
                ('pregnancy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='vaccinations', to='mothers.pregnancy')),
            ],
            options={
                'verbose_name': 'Vaccination',
                'verbose_name_plural': 'Vaccinations',
                'ordering': ('date',),
            },
        ),
        migrations.CreateModel(
            name='Treatment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('nom', models.CharField(max_length=255, verbose_name='Nom du médicament')),
                ('dosage', models.CharField(blank=True, max_length=100, verbose_name='Dosage')),
                ('frequence', models.CharField(blank=True, help_text='Ex: 2x par jour, 1x par semaine', max_length=100, verbose_name='Fréquence')),
                ('date_debut', models.DateField(verbose_name='Date de début')),
                ('date_fin', models.DateField(blank=True, null=True, verbose_name='Date de fin')),
                ('motif', models.TextField(blank=True, verbose_name='Motif de prescription')),
                ('is_active', models.BooleanField(default=True, verbose_name='En cours')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('pregnancy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='treatments', to='mothers.pregnancy')),
                ('prescrit_par', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Traitement',
                'verbose_name_plural': 'Traitements',
                'ordering': ('-date_debut',),
            },
        ),
        migrations.CreateModel(
            name='SpouseInfo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('full_name', models.CharField(max_length=255, verbose_name='Nom complet')),
                ('birth_date', models.DateField(blank=True, null=True, verbose_name='Date de naissance')),
                ('blood_group', models.CharField(blank=True, help_text='Ex: O+, A-, B+, AB-', max_length=10, verbose_name='Groupe sanguin')),
                ('medical_history', models.TextField(blank=True, verbose_name='Antécédents médicaux')),
                ('allergies', models.TextField(blank=True, verbose_name='Allergies')),
                ('phone', models.CharField(blank=True, max_length=32)),
                ('profession', models.CharField(blank=True, max_length=255)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('mother', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='spouse_info', to='mothers.mother')),
            ],
            options={
                'verbose_name': 'Information conjoint',
                'verbose_name_plural': 'Informations conjoints',
            },
        ),
        migrations.CreateModel(
            name='PregnancyEvolution',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('semaine', models.PositiveIntegerField(verbose_name='Semaine')),
                ('poids_maman', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Poids maman (kg)')),
                ('tension', models.CharField(blank=True, max_length=20, verbose_name='Tension artérielle')),
                ('poids_estime_bebe', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Poids estimé bébé (kg)')),
                ('taille_femorale', models.DecimalField(blank=True, decimal_places=1, max_digits=4, null=True, verbose_name='Longueur fémorale (mm)')),
                ('diametre_biparietal', models.DecimalField(blank=True, decimal_places=1, max_digits=4, null=True, verbose_name='Diamètre bipariétal (mm)')),
                ('observations', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('medecin', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('pregnancy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='evolutions', to='mothers.pregnancy')),
            ],
            options={
                'verbose_name': 'Évolution grossesse',
                'verbose_name_plural': 'Évolutions grossesse',
                'ordering': ('semaine',),
            },
        ),
        migrations.CreateModel(
            name='MedicalHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(choices=[('medical', 'Médical'), ('chirurgical', 'Chirurgical'), ('familial', 'Familial'), ('allergie', 'Allergie')], max_length=20)),
                ('title', models.CharField(help_text='Ex: Hypertension, Césarienne, Diabète', max_length=255, verbose_name='Titre/Type')),
                ('date_diagnostic', models.CharField(blank=True, help_text='Ex: Diagnostiqué en 2019, Mai 2015', max_length=100, verbose_name='Date/Période')),
                ('details', models.TextField(blank=True, help_text='Description détaillée', verbose_name='Détails')),
                ('relation', models.CharField(blank=True, help_text='Pour les antécédents familiaux: Mère, Père, etc.', max_length=100, verbose_name='Relation familiale')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('mother', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='medical_histories', to='mothers.mother')),
            ],
            options={
                'verbose_name': 'Antécédent médical',
                'verbose_name_plural': 'Antécédents médicaux',
                'ordering': ('-created_at',),
            },
        ),
        migrations.CreateModel(
            name='MedicalExam',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(choices=[('echographie', 'Échographie'), ('analyse_sang', 'Analyse de sang'), ('analyse_urine', "Analyse d'urine"), ('autre', 'Autre')], max_length=20)),
                ('nom', models.CharField(max_length=255, verbose_name="Nom de l'examen")),
                ('date', models.DateField(verbose_name="Date de l'examen")),
                ('semaine', models.PositiveIntegerField(blank=True, null=True, verbose_name='Semaine de grossesse')),
                ('resultats', models.TextField(blank=True, verbose_name='Résultats')),
                ('observations', models.TextField(blank=True)),
                ('is_completed', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('lieu', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='mothers.healthcenter')),
                ('medecin', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('pregnancy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='exams', to='mothers.pregnancy')),
            ],
            options={
                'verbose_name': 'Examen médical',
                'verbose_name_plural': 'Examens médicaux',
                'ordering': ('date',),
            },
        ),
        migrations.CreateModel(
            name='Child',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('full_name', models.CharField(max_length=255, verbose_name='Nom complet')),
                ('sexe', models.CharField(choices=[('M', 'Masculin'), ('F', 'Féminin')], max_length=1)),
                ('birth_date', models.DateField(verbose_name='Date de naissance')),
                ('birth_weight', models.DecimalField(blank=True, decimal_places=2, max_digits=4, null=True, verbose_name='Poids à la naissance (kg)')),
                ('birth_height', models.DecimalField(blank=True, decimal_places=1, max_digits=4, null=True, verbose_name='Taille à la naissance (cm)')),
                ('numero_dossier', models.CharField(blank=True, max_length=50, verbose_name='Numéro de dossier')),
                ('is_alive', models.BooleanField(default=True, verbose_name='Vivant')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('pregnancy', models.ForeignKey(help_text='Grossesse associée', on_delete=django.db.models.deletion.CASCADE, related_name='children', to='mothers.pregnancy')),
            ],
            options={
                'verbose_name': 'Enfant',
                'verbose_name_plural': 'Enfants',
                'ordering': ('-birth_date',),
            },
        ),
        migrations.CreateModel(
            name='BirthPlan',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('accompagnant', models.CharField(blank=True, help_text="Qui sera présent lors de l'accouchement", max_length=255, verbose_name='Personne accompagnante')),
                ('preferences_douleur', models.TextField(blank=True, help_text='Péridurale, méthodes naturelles, etc.', verbose_name='Gestion de la douleur')),
                ('positions_preferees', models.TextField(blank=True, verbose_name='Positions préférées')),
                ('peau_a_peau', models.BooleanField(default=True, verbose_name='Peau à peau immédiat')),
                ('allaitement', models.BooleanField(default=True, verbose_name='Allaitement maternel')),
                ('notes_particulieres', models.TextField(blank=True, verbose_name='Notes particulières')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('lieu_souhaite', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='mothers.healthcenter', verbose_name="Lieu d'accouchement souhaité")),
                ('pregnancy', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='birth_plan', to='mothers.pregnancy')),
            ],
            options={
                'verbose_name': "Plan d'accouchement",
                'verbose_name_plural': "Plans d'accouchement",
            },
        ),
        migrations.CreateModel(
            name='Appointment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(choices=[('cpn', 'Consultation prénatale'), ('vaccination', 'Vaccination'), ('echographie', 'Échographie'), ('analyse', 'Analyse'), ('autre', 'Autre')], max_length=20)),
                ('title', models.CharField(max_length=255, verbose_name='Titre')),
                ('date', models.DateField()),
                ('heure', models.TimeField(blank=True, null=True)),
                ('status', models.CharField(choices=[('planifie', 'Planifié'), ('confirme', 'Confirmé'), ('effectue', 'Effectué'), ('annule', 'Annulé'), ('manque', 'Manqué')], default='planifie', max_length=20)),
                ('notes', models.TextField(blank=True)),
                ('rappel_envoye', models.BooleanField(default=False, verbose_name='Rappel envoyé')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('lieu', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='mothers.healthcenter')),
                ('medecin', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('pregnancy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='appointments', to='mothers.pregnancy')),
            ],
            options={
                'verbose_name': 'Rendez-vous',
                'verbose_name_plural': 'Rendez-vous',
                'ordering': ('date', 'heure'),
            },
        ),
        migrations.CreateModel(
            name='PrenatalConsultation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('cpn_number', models.PositiveIntegerField(help_text='CPN 1, CPN 2, etc.', verbose_name='Numéro CPN')),
                ('date', models.DateField(verbose_name='Date de consultation')),
                ('semaine', models.PositiveIntegerField(verbose_name='Semaine de grossesse')),
                ('poids', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True, verbose_name='Poids (kg)')),
                ('tension_systolique', models.PositiveIntegerField(blank=True, null=True, verbose_name='Tension systolique')),
                ('tension_diastolique', models.PositiveIntegerField(blank=True, null=True, verbose_name='Tension diastolique')),
                ('taille_uterine', models.DecimalField(blank=True, decimal_places=1, max_digits=4, null=True, verbose_name='Taille utérine (cm)')),
                ('position_bebe', models.CharField(blank=True, help_text='Céphalique, Siège, Transverse', max_length=50, verbose_name='Position du bébé')),
                ('battements_coeur', models.PositiveIntegerField(blank=True, null=True, verbose_name='Battements cœur fœtal (bpm)')),
                ('observations', models.TextField(blank=True)),
                ('prescriptions', models.TextField(blank=True, verbose_name='Prescriptions')),
                ('is_completed', models.BooleanField(default=False, verbose_name='Effectuée')),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('medecin', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='consultations_effectuees', to=settings.AUTH_USER_MODEL)),
                ('pregnancy', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='consultations', to='mothers.pregnancy')),
            ],
            options={
                'verbose_name': 'Consultation prénatale',
                'verbose_name_plural': 'Consultations prénatales',
                'ordering': ('cpn_number',),
                'unique_together': {('pregnancy', 'cpn_number')},
            },
        ),
    ]
